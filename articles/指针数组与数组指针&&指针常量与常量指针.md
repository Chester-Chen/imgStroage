---
	date: 2019年10月5日
	categorize： c
---

# 准备工作

在开始讲之前，先来了解一下，运算符的优先级，如图所示(只给出了部分)。

![](https://github.com/Chester-Chen/imgStroage/blob/master/images/2019.10.5/COperatorPriority.png?raw=true)

> 注：相同优先级，就看结合性。


# 一、指针数组与数组指针

## 1.1指针数组

`int *p1[5];`

根据上图可以看出'*'的优先级比'[]'低，所以p1与'[]'结合成数组。int *修饰的是数组元素的类型，说明数组里的元素是整形指针。所以这种表达方式是**指针数组**。

![](https://github.com/Chester-Chen/imgStroage/blob/master/images/2019.10.5/01.jpg?raw=true)

## 1.2数组指针

`int (*p2)[5];`

从这里可以看出'()'和'[]'的优先级相同。根据结合性，可知'*'与p2构成指针，指针变量的名字为p2，而'int'修饰数组的内容，即数组的元素为int类型。
也就是，p2指针指向了一个含有5个int型的数组。该数组没有名字，是匿名数组。所以这种表达方式是**数组指针**

![](https://github.com/Chester-Chen/imgStroage/blob/master/images/2019.10.5/02.jpg?raw=true)

对指针数组来说，首先它是一个数组，数组的元素都是指针，也就是说该数组存储的是指针，数组占多少个字节由数组本身决定。

对数组指针来说，首先它是一个指针，它指向一个数组，也就是说它是指向数组的指针，在 32 位系统下永远占 4 字节(64位机器是8字节)。

# 二、指针常量与常量指针

本人时常搞不清这两种类型的读法，网上看了文章，觉得这样比较好记，分享给大家。

> 指针和 const 谁在前先读谁，象征着地址，const象征着内容，谁在前面谁就不允许改变。

```
eg：
const int x = 9;
int a = 1;
int b = 2;
int c = 4;
int const *p1 = &b; // const在前  为常量指针
int *const p2 = &c; // *在前      为指针常量
```

- **常量指针**是指指向常量的指针，顾名思义，就是指针指向的是常量，即，它不能指向变量，它指向的内容不能被改变，不能通过指针来修改它指向的内容，但是指针自身不是常量，它自身的值可以改变，从而指向另一个常量。
**就是说常量指针必须指向的是常量，指针自身可以改变，即可以切换指向不同的常量。**

```
p1 = &x;	// 可以 即可以把p1指向其他常量地址
*p1 = x;	// 不可以  即不能改变所指地址的内容

```


- **指针常量**是指指针本身是常量。它指向的地址是不可改变的，但地址里的内容可以通过指针改变。它指向的地址将伴其一生，直到生命周期结束。有一点需要注意的是，指针常量在定义时必须同时赋初值。
**好比你是一个保安，有且仅只负责监视A区域，你有权去管理A区域秩序，直到boss把你炒了，你的工作就结束了。**

```
p2 = &a;	// 不可以 即不可以把p2指向其他地址
*p2 = a;	// 可以  即改变指向内容的值是允许的

```

